"use strict";(globalThis.webpackChunkdocusaurus=globalThis.webpackChunkdocusaurus||[]).push([[3471],{28453(e,t,n){n.d(t,{R:()=>i,x:()=>d});var s=n(96540);const r={},o=s.createContext(r);function i(e){const t=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),s.createElement(o.Provider,{value:t},e.children)}},40754(e,t,n){n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>d,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"codacy-api/examples/uploading-dast-results","title":"Uploading DAST results to Codacy","description":"Instructions on how to upload DAST results to Codacy using the API.","source":"@site/docs/codacy-api/examples/uploading-dast-results.mdx","sourceDirName":"codacy-api/examples","slug":"/codacy-api/examples/uploading-dast-results","permalink":"/docs-docusaurus/codacy-api/examples/uploading-dast-results","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Uploading DAST results to Codacy","description":"Instructions on how to upload DAST results to Codacy using the API."},"sidebar":"documentationSidebar","previous":{"title":"Trigger Dynamic Application Security Testing (DAST) scans","permalink":"/docs-docusaurus/codacy-api/examples/triggering-dast-scans"},"next":{"title":"Adding coverage to your repository","permalink":"/docs-docusaurus/coverage-reporter/"}}');var r=n(74848),o=n(28453);const i={title:"Uploading DAST results to Codacy",description:"Instructions on how to upload DAST results to Codacy using the API."},d=void 0,a={},l=[{value:"Uploading results to Codacy",id:"uploading-results-to-codacy",level:2},{value:"Retrieving uploaded results on Codacy",id:"retrieving-uploaded-results-on-codacy",level:2},{value:"Example: Uploading ZAP DAST results",id:"example-uploading-zap-dast-results",level:2}];function c(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(t.p,{children:["To ensure the security of your web applications, Codacy allows you to upload DAST (dynamic application security testing) results from ",(0,r.jsx)(t.a,{href:"https://www.zaproxy.org/",children:"Zed Attack Proxy (ZAP)"})," directly to Codacy and monitor them as findings under ",(0,r.jsx)(t.a,{href:"/docs-docusaurus/organizations/managing-security-and-risk",children:"Security and risk management"}),"."]}),"\n",(0,r.jsx)(t.h2,{id:"uploading-results-to-codacy",children:"Uploading results to Codacy"}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Use ",(0,r.jsx)(t.a,{href:"https://www.zaproxy.org/",children:"ZAP"})," to perform DAST on your application and generate a report in the ",(0,r.jsx)(t.a,{href:"https://www.zaproxy.org/docs/desktop/addons/report-generation/report-traditional-json/",children:"Traditional JSON format"}),"."]}),"\n",(0,r.jsxs)(t.p,{children:["For details on generating reports in ZAP, refer to the ",(0,r.jsx)(t.a,{href:"https://www.zaproxy.org/docs/",children:"ZAP documentation"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Upload the report to Codacy using the API endpoint ",(0,r.jsx)(t.a,{href:"https://app.codacy.com/api/api-docs#uploaddastreport",children:(0,r.jsx)("span",{class:"skip-vale",children:"uploadDASTReport"})}),":"]}),"\n",(0,r.jsx)(t.admonition,{type:"caution",children:(0,r.jsxs)(t.p,{children:["The DAST report must be under 20MB in size. Please also guarantee that @generated timestamps are in an English locale, and use the default ZAP format (EEE, d MMM yyyy HH:mm",":ss","), as otherwise the report won't be processed."]})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"curl -X POST https://app.codacy.com/api/v3/organizations/<GIT_PROVIDER>/<ORGANIZATION>/security/tools/dast/<TOOL_NAME>/reports \\\n  -H 'api-token: <API_KEY>' \\\n  -H 'Content-Type: multipart/form-data' \\\n  -H 'Accept: application/json' \\\n  -F 'file=@<REPORT_PATH>' \\\n  -F 'reportFormat=json'\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"Replace the placeholders with your own values:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"API_KEY:"})," ",(0,r.jsx)(t.a,{href:"../api-tokens.md#account-api-tokens",children:"Account API token"})," used to authenticate on the Codacy API."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"GIT_PROVIDER:"})," Git provider hosting of the organization, using one of the values in the table below. For example, ",(0,r.jsx)(t.code,{children:"gh"})," for GitHub Cloud."]}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Git provider"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"gh"})}),(0,r.jsx)(t.td,{children:"GitHub Cloud"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"ghe"})}),(0,r.jsx)(t.td,{children:"GitHub Enterprise"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"gl"})}),(0,r.jsx)(t.td,{children:"GitLab Cloud"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"gle"})}),(0,r.jsx)(t.td,{children:"GitLab Enterprise"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"bb"})}),(0,r.jsx)(t.td,{children:"Bitbucket Cloud"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"bbe"})}),(0,r.jsx)(t.td,{children:"Bitbucket Server"})]})]})]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"ORGANIZATION:"})," Name of the organization on the Git provider. For example, ",(0,r.jsx)(t.code,{children:"codacy"}),". You must have admin permissions over the organization on the Git provider."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"TOOL_NAME:"})," Name of the tool used to generate the report. Currently, only ZAP is supported."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"REPORT_PATH:"})," Path to the file containing the DAST report."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"Replace placeholders with your specific details to complete the upload."}),"\n",(0,r.jsx)(t.p,{children:"This process seamlessly integrates the security insights of third-party DAST tools with Codacy for a comprehensive security overview."}),"\n",(0,r.jsx)(t.h2,{id:"retrieving-uploaded-results-on-codacy",children:"Retrieving uploaded results on Codacy"}),"\n",(0,r.jsxs)(t.p,{children:["To retrieve a list of uploaded DAST reports, access the Codacy API endpoint ",(0,r.jsx)(t.a,{href:"https://api.codacy.com/api/api-docs#listdastreports",children:(0,r.jsx)("span",{class:"skip-vale",children:"listDASTReports"})}),":"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:"curl -X GET https://api.codacy.com/api/v3/organizations/<GIT_PROVIDER>/<ORGANIZATION>/security/dast/reports \\\n  -H 'api-token: <API_KEY>' \\\n  -H 'Accept: application/json'\n"})}),"\n",(0,r.jsx)(t.p,{children:"Replace the placeholders with your own values:"}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"API_KEY:"})," ",(0,r.jsx)(t.a,{href:"../api-tokens.md#account-api-tokens",children:"Account API token"})," used to authenticate on the Codacy API."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"GIT_PROVIDER:"})," Git provider hosting of the organization, using one of the values in the table below. For example, ",(0,r.jsx)(t.code,{children:"gh"})," for GitHub Cloud."]}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Value"}),(0,r.jsx)(t.th,{children:"Git provider"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"gh"})}),(0,r.jsx)(t.td,{children:"GitHub Cloud"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"ghe"})}),(0,r.jsx)(t.td,{children:"GitHub Enterprise"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"gl"})}),(0,r.jsx)(t.td,{children:"GitLab Cloud"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"gle"})}),(0,r.jsx)(t.td,{children:"GitLab Enterprise"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"bb"})}),(0,r.jsx)(t.td,{children:"Bitbucket Cloud"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.code,{children:"bbe"})}),(0,r.jsx)(t.td,{children:"Bitbucket Server"})]})]})]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"TOOL_NAME:"})," Name of the tool used to generate the report. Currently, only ZAP is supported."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(t.p,{children:"This endpoint provides a list of all DAST reports uploaded to Codacy, allowing you to check the status and details of each report."}),"\n",(0,r.jsx)(t.h2,{id:"example-uploading-zap-dast-results",children:"Example: Uploading ZAP DAST results"}),"\n",(0,r.jsx)(t.p,{children:"Use this example Bash script to upload the ZAP DAST report to Codacy. This example can be adapted to fit your specific needs."}),"\n",(0,r.jsx)(t.p,{children:"The example script:"}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:["Defines the ",(0,r.jsx)(t.a,{href:"../api-tokens.md#account-api-tokens",children:"API token"})," used to authenticate on the Codacy API."]}),"\n",(0,r.jsx)(t.li,{children:"Defines the path and filename of the file containing the DAST report."}),"\n",(0,r.jsxs)(t.li,{children:["Calls the endpoint ",(0,r.jsx)(t.a,{href:"https://app.codacy.com/api/api-docs#uploaddastreport",children:(0,r.jsx)("span",{class:"skip-vale",children:"uploadDASTReport"})})," to upload the report to Codacy."]}),"\n"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:'CODACY_API_TOKEN="<your API token>"\nGIT_PROVIDER="<your Git provider>" # e.g., gh for GitHub\nORGANIZATION_NAME="<your organization name>"\nTOOL_NAME="<DAST tool name>" # e.g., ZAP\nREPORT_FILE_PATH="zap-report.json"\n\ncurl -X POST https://app.codacy.com/api/v3/organizations/$GIT_PROVIDER/$ORGANIZATION_NAME/security/tools/dast/$TOOL_NAME/reports \\\n     -H "api-token: $CODACY_API_TOKEN" \\\n     -H "Content-Type: multipart/form-data" \\\n     -H "Accept: application/json" \\\n     -F "file=@$REPORT_FILE_PATH" \\\n     -F "reportFormat=json"\n'})})]})}function h(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);