"use strict";(globalThis.webpackChunkdocusaurus=globalThis.webpackChunkdocusaurus||[]).push([[8737],{28453(e,r,o){o.d(r,{R:()=>s,x:()=>i});var a=o(96540);const n={},c=a.createContext(n);function s(e){const r=a.useContext(c);return a.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function i(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:s(e.components),a.createElement(c.Provider,{value:r},e.children)}},84273(e,r,o){o.r(r),o.d(r,{assets:()=>t,contentTitle:()=>i,default:()=>h,frontMatter:()=>s,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"coverage-reporter/alternative-ways-of-running-coverage-reporter","title":"Alternative ways of running Coverage Reporter","description":"There are alternative ways of running or installing Codacy Coverage Reporter, such as running a Docker image, using a GitHub Action or CircleCI orb, downloading a binary for your operating system, or building the binary from source.","source":"@site/docs/coverage-reporter/alternative-ways-of-running-coverage-reporter.md","sourceDirName":"coverage-reporter","slug":"/coverage-reporter/alternative-ways-of-running-coverage-reporter","permalink":"/docs-docusaurus/coverage-reporter/alternative-ways-of-running-coverage-reporter","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Alternative ways of running Coverage Reporter","description":"There are alternative ways of running or installing Codacy Coverage Reporter, such as running a Docker image, using a GitHub Action or CircleCI orb, downloading a binary for your operating system, or building the binary from source."},"sidebar":"documentationSidebar","previous":{"title":"Adding coverage to your repository","permalink":"/docs-docusaurus/coverage-reporter/"},"next":{"title":"Uploading coverage in advanced scenarios","permalink":"/docs-docusaurus/coverage-reporter/uploading-coverage-in-advanced-scenarios"}}');var n=o(74848),c=o(28453);const s={title:"Alternative ways of running Coverage Reporter",description:"There are alternative ways of running or installing Codacy Coverage Reporter, such as running a Docker image, using a GitHub Action or CircleCI orb, downloading a binary for your operating system, or building the binary from source."},i=void 0,t={},l=[{value:"Bash script (recommended)",id:"bash-script",level:2},{value:"Docker",id:"docker",level:2},{value:"GitHub Action",id:"github-action",level:2},{value:"CircleCI orb",id:"circleci-orb",level:2},{value:"Manually downloading the binary",id:"manually-downloading-the-binary",level:2},{value:"Linux amd64",id:"linux-amd64",level:3},{value:"Java",id:"java",level:3},{value:"Validating the checksum of the binaries",id:"validating-the-checksum-of-the-binaries",level:3},{value:"Building from source",id:"building-from-source",level:2},{value:"Community supported alternatives",id:"community-supported-alternatives",level:2},{value:"Maven plugin",id:"maven-plugin",level:3},{value:"Travis CI",id:"travis-ci",level:3},{value:"Gradle task",id:"gradle-task",level:3}];function d(e){const r={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,c.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(r.p,{children:"The following sections list the alternative ways of running or installing Codacy Coverage Reporter."}),"\n",(0,n.jsx)(r.admonition,{type:"caution",children:(0,n.jsxs)(r.p,{children:[(0,n.jsx)(r.strong,{children:"If you're using Codacy Self-hosted"})," make sure that you use a Codacy Coverage Reporter version compatible with your Codacy instance."]})}),"\n",(0,n.jsx)(r.h2,{id:"bash-script",children:"Bash script (recommended)"}),"\n",(0,n.jsxs)(r.p,{children:["The recommended way to run the Codacy Coverage Reporter is by using the ",(0,n.jsxs)(r.a,{href:"https://github.com/codacy/codacy-coverage-reporter/blob/master/get.sh",children:["self-contained bash script ",(0,n.jsx)(r.code,{children:"get.sh"})]})," that automatically downloads and runs the most recent version of the Codacy Coverage Reporter:"]}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsx)(r.p,{children:"On Ubuntu, run:"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-bash",children:"bash <(curl -Ls https://coverage.codacy.com/get.sh) report -r <coverage report file name>\n"})}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsx)(r.p,{children:"On Alpine Linux, run:"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-sh",children:"wget -qO - https://coverage.codacy.com/get.sh | sh -s -- report -r <coverage report file name>\n"})}),"\n"]}),"\n"]}),"\n",(0,n.jsxs)(r.admonition,{type:"note",children:[(0,n.jsxs)(r.p,{children:["Starting on version ",(0,n.jsx)(r.code,{children:"13.0.0"})," the script automatically validates the checksum of the downloaded binary. To skip the checksum validation, define the following environment variable:"]}),(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-bash",children:"export CODACY_REPORTER_SKIP_CHECKSUM=true\n"})})]}),"\n",(0,n.jsx)(r.p,{children:"The self-contained script can cache the binary. To avoid downloading the binary every time that the script runs, add one of the following directories to your CI cached folders:"}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"$HOME/.cache/codacy"})," on Linux"]}),"\n",(0,n.jsxs)(r.li,{children:[(0,n.jsx)(r.code,{children:"$HOME/Library/Caches/Codacy"})," on Mac OS X"]}),"\n"]}),"\n",(0,n.jsxs)(r.p,{children:["To use a specific version of the Codacy Coverage Reporter, set the following environment variable to one of the ",(0,n.jsx)(r.a,{href:"https://github.com/codacy/codacy-coverage-reporter/releases",children:"released versions"}),":"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-bash",children:"export CODACY_REPORTER_VERSION=<version>\n"})}),"\n",(0,n.jsx)(r.h2,{id:"docker",children:"Docker"}),"\n",(0,n.jsx)(r.p,{children:"You can use Docker to run Codacy Coverage Reporter."}),"\n",(0,n.jsxs)(r.p,{children:["Use the following command where ",(0,n.jsx)(r.code,{children:"<version>"})," is either one of the ",(0,n.jsx)(r.a,{href:"https://github.com/codacy/codacy-coverage-reporter/releases",children:"released versions"}),", or ",(0,n.jsx)(r.code,{children:"latest"})," to use the most recent version:"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-bash",children:"docker run -v $PWD:/code codacy/codacy-coverage-reporter:<version> report\n"})}),"\n",(0,n.jsx)(r.h2,{id:"github-action",children:"GitHub Action"}),"\n",(0,n.jsxs)(r.p,{children:["If you're using GitHub Actions to report coverage, you can use our GitHub Action ",(0,n.jsx)(r.a,{href:"https://github.com/codacy/codacy-coverage-reporter-action",children:(0,n.jsx)("span",{class:"skip-vale",children:"codacy/codacy-coverage-reporter-action"})}),"."]}),"\n",(0,n.jsx)(r.h2,{id:"circleci-orb",children:"CircleCI orb"}),"\n",(0,n.jsxs)(r.p,{children:["If you're using CircleCI to report coverage, you can use our orb ",(0,n.jsx)(r.a,{href:"https://circleci.com/orbs/registry/orb/codacy/coverage-reporter",children:(0,n.jsx)("span",{class:"skip-vale",children:"codacy/coverage-reporter"})}),"."]}),"\n",(0,n.jsx)(r.h2,{id:"manually-downloading-the-binary",children:"Manually downloading the binary"}),"\n",(0,n.jsx)(r.h3,{id:"linux-amd64",children:"Linux amd64"}),"\n",(0,n.jsxs)(r.p,{children:["If you prefer, you can manually download and run the native ",(0,n.jsx)(r.code,{children:"codacy-coverage-reporter"})," binary, either for the latest version or a specific one."]}),"\n",(0,n.jsx)(r.p,{children:"You can use the scripts below to automatically check for the latest version of the binaries, download the binaries from either Codacy's public store or GitHub, and run them."}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsx)(r.p,{children:"Using Codacy's public S3:"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-bash",children:'LATEST_VERSION="$(curl -Ls https://artifacts.codacy.com/bin/codacy-coverage-reporter/latest)"\ncurl -Ls -o codacy-coverage-reporter "https://artifacts.codacy.com/bin/codacy-coverage-reporter/${LATEST_VERSION}/codacy-coverage-reporter-linux"\nchmod +x codacy-coverage-reporter\n./codacy-coverage-reporter report\n'})}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsx)(r.p,{children:"Using GitHub:"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-bash",children:'curl -Ls -o codacy-coverage-reporter "$(curl -Ls https://api.github.com/repos/codacy/codacy-coverage-reporter/releases/latest | jq -r \'.assets | map({name, browser_download_url} | select(.name | contains("codacy-coverage-reporter-linux"))) | .[0].browser_download_url\')"\nchmod +x codacy-coverage-reporter\n./codacy-coverage-reporter report\n'})}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(r.h3,{id:"java",children:"Java"}),"\n",(0,n.jsx)(r.p,{children:"Use the Java binary to run Codacy Coverage reporter on other platforms, such as Linux x86, macOS, Windows, etc."}),"\n",(0,n.jsx)(r.p,{children:"You can use the scripts below to automatically check for the latest version of the Java binaries, download the binaries from either Codacy's public store or GitHub, and run them."}),"\n",(0,n.jsxs)(r.ul,{children:["\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsx)(r.p,{children:"Using Codacy's public store:"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-bash",children:'LATEST_VERSION="$(curl -Ls https://artifacts.codacy.com/bin/codacy-coverage-reporter/latest)"\ncurl -Ls -o codacy-coverage-reporter-assembly.jar "https://artifacts.codacy.com/bin/codacy-coverage-reporter/${LATEST_VERSION}/codacy-coverage-reporter-assembly.jar"\njava -jar codacy-coverage-reporter-assembly.jar report\n'})}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsx)(r.p,{children:"Using GitHub:"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-bash",children:'curl -LS -o codacy-coverage-reporter-assembly.jar "$(curl -LSs https://api.github.com/repos/codacy/codacy-coverage-reporter/releases/latest | jq -r \'.assets | map({name, browser_download_url} | select(.name | endswith(".jar"))) | .[0].browser_download_url\')"\njava -jar codacy-coverage-reporter-assembly.jar report\n'})}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(r.h3,{id:"validating-the-checksum-of-the-binaries",children:"Validating the checksum of the binaries"}),"\n",(0,n.jsxs)(r.p,{children:["You can use the checksums ",(0,n.jsx)(r.a,{href:"https://github.com/codacy/codacy-coverage-reporter/releases",children:"available for each release"})," to validate the binaries that you download manually. You can use any tool of your choice to validate the checksum, as long as it uses the ",(0,n.jsx)(r.code,{children:"SHA512"})," algorithm."]}),"\n",(0,n.jsxs)(r.p,{children:["For example, run the commands below to download and validate the checksum for the 13.0.0 Linux binary. Note that the command ",(0,n.jsx)(r.code,{children:"sha512sum"})," expects to find the binary on the same directory and with the original name ",(0,n.jsx)(r.code,{children:"codacy-coverage-reporter-linux"}),"."]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-bash",children:"curl -Ls -O https://github.com/codacy/codacy-coverage-reporter/releases/download/13.0.0/codacy-coverage-reporter-linux.SHA512SUM\nsha512sum -c codacy-coverage-reporter-linux.SHA512SUM\n"})}),"\n",(0,n.jsx)(r.h2,{id:"building-from-source",children:"Building from source"}),"\n",(0,n.jsx)(r.p,{children:"If you are having any issues with your installation, you can also build the coverage reporter from source."}),"\n",(0,n.jsxs)(r.ol,{children:["\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsx)(r.p,{children:"Clone the Codacy Coverage Reporter repository:"}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-bash",children:"git clone https://github.com/codacy/codacy-coverage-reporter.git\n"})}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsxs)(r.p,{children:["Run the command ",(0,n.jsx)(r.code,{children:"sbt assembly"})," inside the local repository folder:"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-bash",children:"cd codacy-coverage-reporter\nsbt assembly\n"})}),"\n",(0,n.jsxs)(r.p,{children:["This will produce a file ",(0,n.jsx)(r.code,{children:"target/codacy-coverage-reporter-assembly-<version>.jar"})," that you can run."]}),"\n"]}),"\n",(0,n.jsxs)(r.li,{children:["\n",(0,n.jsxs)(r.p,{children:["Execute this ",(0,n.jsx)(r.code,{children:".jar"})," in the repository where you want to upload the coverage. For example:"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-bash",children:"<path>/java-project$ java -jar ../codacy-coverage-reporter/target/codacy-coverage-reporter-assembly-<version>.jar report\n"})}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(r.h2,{id:"community-supported-alternatives",children:"Community supported alternatives"}),"\n",(0,n.jsx)(r.h3,{id:"maven-plugin",children:"Maven plugin"}),"\n",(0,n.jsxs)(r.p,{children:["Thanks to the amazing job of ",(0,n.jsx)(r.a,{href:"https://github.com/halkeye",children:(0,n.jsx)("span",{class:"skip-vale",children:"Gavin Mogan"})})," you can now send your coverage to Codacy using his Maven plugin ",(0,n.jsx)(r.a,{href:"https://github.com/halkeye/codacy-maven-plugin",children:(0,n.jsx)("span",{class:"skip-vale",children:"halkeye/codacy-maven-plugin"})}),"! Be sure to follow the instructions on his repository."]}),"\n",(0,n.jsx)(r.h3,{id:"travis-ci",children:"Travis CI"}),"\n",(0,n.jsxs)(r.p,{children:["If you are using Travis CI to report coverage, update your file ",(0,n.jsx)(r.code,{children:".travis.yml"})," to include the following blocks:"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-yaml",children:"before_script:\n  - bash <(curl -Ls https://coverage.codacy.com/get.sh) download\n\nafter_success:\n  - bash <(curl -Ls https://coverage.codacy.com/get.sh)\n"})}),"\n",(0,n.jsxs)(r.p,{children:["Make sure that you also ",(0,n.jsx)(r.a,{href:"/docs-docusaurus/coverage-reporter/#authenticate",children:"set your project or account API Token"})," as an environment variable in your Travis CI job."]}),"\n",(0,n.jsx)(r.h3,{id:"gradle-task",children:"Gradle task"}),"\n",(0,n.jsxs)(r.p,{children:["If you're using Gradle to automate your CI/CD you can add use the following example task, where ",(0,n.jsx)(r.code,{children:"<COVERAGE_REPORT_TASK>"})," is the name of the task that generates your coverage report:"]}),"\n",(0,n.jsx)(r.pre,{children:(0,n.jsx)(r.code,{className:"language-groovy",children:"task uploadCoverage(type:Exec, dependsOn: <COVERAGE_REPORT_TASK>) {\n    description 'Uploads coverage data to Codacy.'\n    commandLine 'bash', '-c', 'bash <(curl -Ls https://coverage.codacy.com/get.sh) report'\n}\n"})})]})}function h(e={}){const{wrapper:r}={...(0,c.R)(),...e.components};return r?(0,n.jsx)(r,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}}}]);