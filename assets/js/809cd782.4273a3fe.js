"use strict";(globalThis.webpackChunkdocusaurus=globalThis.webpackChunkdocusaurus||[]).push([[1934],{28453(e,n,t){t.d(n,{R:()=>r,x:()=>a});var i=t(96540);const o={},s=i.createContext(o);function r(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(s.Provider,{value:n},e.children)}},57141(e,n,t){t.d(n,{A:()=>i});const i=t.p+"assets/images/gitlab-integration-pr-comment-18235264a405daf6cc9e5254e224b699.png"},70550(e,n,t){t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"faq/troubleshooting/why-did-codacy-stop-commenting-on-pull-requests","title":"Why did Codacy stop commenting on pull requests?","description":"Outdated app permissions","source":"@site/docs/faq/troubleshooting/why-did-codacy-stop-commenting-on-pull-requests.md","sourceDirName":"faq/troubleshooting","slug":"/faq/troubleshooting/why-did-codacy-stop-commenting-on-pull-requests","permalink":"/docs-docusaurus/docs/faq/troubleshooting/why-did-codacy-stop-commenting-on-pull-requests","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Why did Codacy stop commenting on pull requests?"},"sidebar":"documentationSidebar","previous":{"title":"Why can\'t I see my organization?","permalink":"/docs-docusaurus/docs/faq/troubleshooting/why-cant-i-see-my-organization"},"next":{"title":"Why aren\'t duplication metrics being calculated?","permalink":"/docs-docusaurus/docs/faq/troubleshooting/why-arent-duplication-metrics-being-calculated"}}');var o=t(74848),s=t(28453);const r={title:"Why did Codacy stop commenting on pull requests?"},a=void 0,c={},d=[{value:"Outdated app permissions",id:"outdated-app-permissions",level:2},{value:"Outdated permissions or invalid SSH key",id:"outdated-permissions",level:2},{value:"See also",id:"see-also",level:2}];function l(e){const n={a:"a",admonition:"admonition",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h2,{id:"outdated-app-permissions",children:"Outdated app permissions"}),"\n",(0,o.jsx)(n.admonition,{title:"This section applies to Codacy Coverage on GitHub",type:"note"}),"\n",(0,o.jsx)(n.p,{children:"Coverage information is currently sent to GitHub by a new version of the Codacy Coverage engine, which depends on updated app permissions."}),"\n",(0,o.jsxs)(n.p,{children:["If you stopped receiving coverage summaries on your pull requests, please ",(0,o.jsx)(n.a,{href:"https://docs.github.com/en/enterprise-cloud@latest/apps/using-github-apps/reviewing-and-modifying-installed-github-apps#reviewing-permissions",children:"review and accept the updated Codacy app permissions on GitHub"}),". For more information on the rollout of the new Coverage engine, ",(0,o.jsx)(n.a,{href:"../../release-notes/cloud/cloud-2023-11-23-new-coverage-engine-status-checks.md",children:"see the relevant release note"}),"."]}),"\n",(0,o.jsx)(n.h2,{id:"outdated-permissions",children:"Outdated permissions or invalid SSH key"}),"\n",(0,o.jsx)(n.admonition,{title:"This section applies to GitLab and Bitbucket",type:"note"}),"\n",(0,o.jsx)(n.p,{children:"Different reasons can cause Codacy to stop analyzing and commenting on pull requests, but the most common is that the user who initially enabled the GitLab or Bitbucket integration no longer has permissions on the repository or that the SSH key is no longer valid."}),"\n",(0,o.jsx)(n.p,{children:"To fix this issue and avoid future disruptions, refresh the GitLab or Bitbucket integration on Codacy using a dedicated service account on your Git provider:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Create a service account on your Git provider exclusively dedicated to integrating Codacy with your repositories."}),"\n",(0,o.jsxs)(n.admonition,{type:"note",children:[(0,o.jsx)(n.p,{children:"The service account must:"}),(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"../../organizations/roles-and-permissions-for-organizations.md",children:"Have administrator permissions"})," on the repositories to integrate with Codacy"]}),"\n",(0,o.jsx)(n.li,{children:"Not be shared by other systems to ensure that Codacy doesn't hit the API rate limits of the Git provider when using this account"}),"\n"]})]}),"\n",(0,o.jsxs)(n.admonition,{type:"tip",children:[(0,o.jsxs)(n.p,{children:['Using a dedicated service account also has the advantage of any pull request comments made by Codacy appearing as authored by the service account instead of by a regular organization member. You can name this account "Codacy" and use ',(0,o.jsx)(n.a,{href:"https://avatars.githubusercontent.com/u/1834093",children:"this Codacy logo"})," as the account picture so that your pull request comments look like the following example:"]}),(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"Codacy comment on a GitLab merge request",src:t(57141).A+"",width:"966",height:"412"})})]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Log out of both your Git provider and of Codacy."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Log in to Codacy using the new service account."}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Open your repository ",(0,o.jsx)(n.strong,{children:"Settings"}),", tab ",(0,o.jsx)(n.strong,{children:"Integrations"}),", and click the link ",(0,o.jsx)(n.strong,{children:"Refresh connection"})," to refresh the existing Git provider integration:"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"Refresh Git provider integration",src:t(73474).A+"",width:"1187",height:"666"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Make sure the Git provider integration is configured as needed:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.a,{href:"../../repositories-configure/integrations/gitlab-integration.md#configuring",children:"Configuring the GitLab integration"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.a,{href:"../../repositories-configure/integrations/bitbucket-integration.md#configuring",children:"Configuring the Bitbucket integration"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"see-also",children:"See also"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"/docs-docusaurus/docs/faq/troubleshooting/we-no-longer-have-access-to-this-repository",children:"We no longer have access to this repository, check your SSH keys"})}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},73474(e,n,t){t.d(n,{A:()=>i});const i=t.p+"assets/images/gitlab-integration-refresh-c3ad8acf3bbc02c8b1fe978a26a7861a.png"}}]);