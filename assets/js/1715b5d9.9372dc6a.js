"use strict";(globalThis.webpackChunkdocusaurus=globalThis.webpackChunkdocusaurus||[]).push([[1351],{6392(e,n,s){s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"codacy-guardrails/codacy-guardrails-how-to-configure-rules","title":"How to customize the analysis rules for Codacy Guardrails","description":"By default, if no API token is provided in the MCP Server setup, Codacy uses a predefined configuration that includes all recommended rules (or code patterns that you can find on many parts of our product) from the supported built-in scanners.","source":"@site/docs/codacy-guardrails/codacy-guardrails-how-to-configure-rules.md","sourceDirName":"codacy-guardrails","slug":"/codacy-guardrails/codacy-guardrails-how-to-configure-rules","permalink":"/docs-docusaurus/codacy-guardrails/codacy-guardrails-how-to-configure-rules","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"How to customize the analysis rules for Codacy Guardrails"},"sidebar":"documentationSidebar","previous":{"title":"Using Codacy Guardrails","permalink":"/docs-docusaurus/codacy-guardrails/codacy-guardrails-how-to-use"},"next":{"title":"Limitations","permalink":"/docs-docusaurus/codacy-guardrails/codacy-guardrails-limitations"}}');var i=s(74848),o=s(28453);const r={title:"How to customize the analysis rules for Codacy Guardrails"},a=void 0,d={},c=[{value:"Using configuration files",id:"using-configuration-files",level:2},{value:"Using the Codacy UI",id:"using-the-codacy-ui",level:2},{value:"Code Patterns",id:"code-patterns",level:3},{value:"Coding Standards",id:"coding-standards",level:3}];function l(e){const n={a:"a",admonition:"admonition",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["By default, if no API token is provided in the ",(0,i.jsx)(n.a,{href:"codacy-guardrails-getting-started.md/#3-install-mcp-server",children:"MCP Server setup"}),", Codacy uses a predefined configuration that includes all recommended rules (or ",(0,i.jsx)(n.a,{href:"../repositories-configure/configuring-code-patterns.md",children:"code patterns"})," that you can find on many parts of our product) from the supported built-in scanners."]}),"\n",(0,i.jsx)(n.p,{children:"However, when an API token is used, Codacy automatically retrieves the current rule configuration directly from your repository."}),"\n",(0,i.jsx)(n.p,{children:"You can configure your rules in one of two ways:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Using ",(0,i.jsx)(n.a,{href:"#using-configuration-files",children:"built-in scanner configuration files"}),"\u2013for version-controlled setups."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Using the ",(0,i.jsx)(n.a,{href:"#using-the-codacy-ui",children:"Codacy UI"}),"\u2013for quick, manual adjustments."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsx)(n.p,{children:"If you're already using a configuration file, please we recommend you can follow the first way. Otherwise, the second way is the best for you, so you can configure directly in the Codacy platform."})}),"\n",(0,i.jsx)(n.h2,{id:"using-configuration-files",children:"Using configuration files"}),"\n",(0,i.jsx)(n.p,{children:"The table below lists the configuration file names that Codacy detects and supports for each built-in scanner:"}),"\n",(0,i.jsxs)("table",{children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{children:"Scanner name"}),(0,i.jsx)("th",{children:"Languages"}),(0,i.jsx)("th",{children:"Files detected"}),(0,i.jsx)("th",{children:"Other info"})]})}),(0,i.jsxs)("tbody",{children:[(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"dartanalyzer"}),(0,i.jsx)("td",{children:"Dart"}),(0,i.jsx)("td",{children:(0,i.jsx)("code",{children:"analysis_options.yaml"})}),(0,i.jsx)("td",{children:(0,i.jsx)("a",{href:"https://dart.dev/guides/language/analysis-options",children:"Customizing static analysis"})})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"ESLint v8"}),(0,i.jsx)("td",{children:"JavaScript, TypeScript"}),(0,i.jsxs)("td",{children:[(0,i.jsx)("code",{children:".eslintrc.js"}),", ",(0,i.jsx)("code",{children:".eslintrc.cjs"}),", ",(0,i.jsx)("code",{children:".eslintrc.yaml"}),", ",(0,i.jsx)("code",{children:".eslintrc.yml"}),", ",(0,i.jsx)("code",{children:".eslintrc.json"})]}),(0,i.jsx)("td",{})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"PMD"}),(0,i.jsx)("td",{children:"Apex, Java, JavaScript, JSP, PL/SQL, XML, Velocity and Visualforce"}),(0,i.jsxs)("td",{children:[(0,i.jsx)("code",{children:"ruleset.xml"}),", ",(0,i.jsx)("code",{children:"apex-ruleset.xml"})]}),(0,i.jsx)("td",{children:"Supports configuration file in directories other than root and can search up to 5 directories into the repository."})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"Pylint"}),(0,i.jsx)("td",{children:"Python"}),(0,i.jsxs)("td",{children:[(0,i.jsx)("code",{children:"pylintrc"}),", ",(0,i.jsx)("code",{children:".pylintrc"})]}),(0,i.jsx)("td",{children:(0,i.jsx)("a",{href:"https://github.com/codacy/codacy-pylint-python3/blob/master/requirements.txt",children:"Plugins"})})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"Semgrep"}),(0,i.jsx)("td",{children:"Apex, C++, C#, Dockerfile, Elixir, GitHub Actions, Go, Java, JavaScript, Kotlin, PHP, Python, Ruby, Rust, Scala, Shell, Swift, Terraform, TypeScript"}),(0,i.jsx)("td",{children:(0,i.jsx)("code",{children:".semgrep.yaml"})}),(0,i.jsx)("td",{})]})]})]}),"\n",(0,i.jsx)(n.p,{children:"To use a configuration file for a static analysis tool:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Make sure the configuration file is located in the root of the ",(0,i.jsx)(n.a,{href:"/docs-docusaurus/repositories-configure/managing-branches",children:"default Codacy branch"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Open the repository ",(0,i.jsx)(n.strong,{children:"Code patterns"})," page, select the tool of interest, and activate the toggle to use a configuration file."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["After activating a configuration file for a tool, Codacy uses that configuration file even if you ",(0,i.jsx)(n.a,{href:"../repositories-configure/ignoring-files.md",children:"exclude it from Codacy analysis"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["When ",(0,i.jsx)(n.a,{href:"/docs-docusaurus/organizations/using-coding-standards#using-with-tool-configuration",children:"using a tool configuration file alongside a coding standard"}),", the configuration file controls the code patterns, while the coding standard controls whether the tool is enabled or disabled."]}),"\n",(0,i.jsxs)(n.li,{children:["Codacy uses the version of the configuration file ",(0,i.jsx)(n.strong,{children:"in the branch being analyzed"}),". For example, if you open a pull request that includes changes to the configuration file, the analysis results take those changes into account."]}),"\n",(0,i.jsxs)(n.li,{children:["If Codacy analyzes a branch that doesn't include the configuration file, Codacy reverts to using the code patterns configured for the tool before you selected the option ",(0,i.jsx)(n.strong,{children:"Configuration file"})," on the Code patterns page."]}),"\n",(0,i.jsx)(n.li,{children:"For performance reasons, when you update pattern settings using a configuration file, Codacy may display outdated messages for issues identified previously by those patterns."}),"\n"]})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Using a configuration file",src:s(12566).A+"",width:"3306",height:"1860"})}),"\n",(0,i.jsx)(n.h2,{id:"using-the-codacy-ui",children:"Using the Codacy UI"}),"\n",(0,i.jsx)(n.p,{children:"If you want to use Codacy UI, there are two ways you can follow to configure the built-in scanner rules:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Using the ",(0,i.jsx)(n.a,{href:"../repositories-configure/configuring-code-patterns.md",children:"Code Patterns"})," configuration, if you want to configure the rules per repository or"]}),"\n",(0,i.jsxs)(n.li,{children:["Using ",(0,i.jsx)(n.a,{href:"/docs-docusaurus/organizations/using-coding-standards",children:"Coding Standards"}),", if you want to configure the rules for multiple repositories"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"code-patterns",children:"Code Patterns"}),"\n",(0,i.jsx)(n.p,{children:"By default, Codacy analyzes your repositories using a subset of the supported analysis scanners and rules. These defaults are based on current best practices and community feedback, and you can adapt them to your needs. This feature is available in every repository you have on Codacy."}),"\n",(0,i.jsx)(n.p,{children:"In order to set up your rules, please follow the next steps:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Open your repository ",(0,i.jsx)(n.strong,{children:"Code patterns"})," page."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Code patterns page",src:s(93972).A+"",width:"3284",height:"1934"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"Enable or disable the tools that Codacy will use to analyze the repository."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Toggling tools",src:s(19877).A+"",width:"1150",height:"501"})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Select a tool to enable or disable its code patterns. To make it easier to find relevant patterns, use the filters above the pattern list. You can filter by ",(0,i.jsx)(n.a,{href:"/docs-docusaurus/faq/code-analysis/which-metrics-does-codacy-calculate#issues",children:"issue category"}),", status, severity level, or display only recommended code patterns."]}),"\n",(0,i.jsx)(n.p,{children:"To see an explanation of the issues that a pattern detects and how to fix them, click the respective dropdown arrow."}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"To enable a group of code patterns, use the filter to select the relevant group of patterns and click the checkbox in the header of the patterns list."}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["Codacy displays the tag ",(0,i.jsx)(n.strong,{children:"New"})," for one month next to the name of newly added code patterns."]}),"\n"]}),"\n"]})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Configuring code patterns",src:s(29655).A+"",width:"1150",height:"501"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"coding-standards",children:"Coding Standards"}),"\n",(0,i.jsx)(n.p,{children:"Coding standards enable the analysis of multiple repositories with the same scanner and rules configurations, ensuring consistent code quality across your organization. Multiple coding standards can be applied to the same repository. For example, you can use coding standards to ensure that a group of repositories follow the same security rules or coding conventions."}),"\n",(0,i.jsxs)(n.p,{children:["To apply or edit a repository's ",(0,i.jsx)(n.a,{href:"/docs-docusaurus/organizations/using-coding-standards",children:"coding standards"}),", click ",(0,i.jsx)(n.strong,{children:"Customize"})," in the ",(0,i.jsx)(n.strong,{children:"Following ..."})," section at the top of the ",(0,i.jsx)(n.strong,{children:"Code patterns"})," page."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Customize applied coding standards",src:s(36807).A+"",width:"3284",height:"1934"})}),"\n",(0,i.jsxs)(n.p,{children:["Select the coding standards that you want to follow or stop following and click ",(0,i.jsx)(n.strong,{children:"Apply"}),"."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{alt:"Customize applied coding standards",src:s(68183).A+"",width:"3284",height:"1780"})}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Scanners and rules enabled by a coding standard are enforced and can't be disabled."}),"\n",(0,i.jsx)(n.li,{children:"You can add extra scanners and rules, if these aren't enabled by any applied coding standard."}),"\n"]})})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},12566(e,n,s){s.d(n,{A:()=>t});const t=s.p+"assets/images/code-patterns-config-file-85f87228cae956573c43dc058ce272c7.png"},19877(e,n,s){s.d(n,{A:()=>t});const t=s.p+"assets/images/code-patterns-toggle-tools-73e27a794dd3ee2d2f73adf3129ae619.png"},28453(e,n,s){s.d(n,{R:()=>r,x:()=>a});var t=s(96540);const i={},o=t.createContext(i);function r(e){const n=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),t.createElement(o.Provider,{value:n},e.children)}},29655(e,n,s){s.d(n,{A:()=>t});const t=s.p+"assets/images/code-patterns-configure-9e57f780bc30ba111d6aa80b7679aa4f.png"},36807(e,n,s){s.d(n,{A:()=>t});const t=s.p+"assets/images/code-patterns-cs-customize-4ccd641b4a91a663901b3ebb3e64c4ec.png"},68183(e,n,s){s.d(n,{A:()=>t});const t=s.p+"assets/images/code-patterns-cs-customize-modal-eb9e47c5f401b33d1e9174b8330b03c7.png"},93972(e,n,s){s.d(n,{A:()=>t});const t=s.p+"assets/images/code-patterns-80cf1b36699ac7837de011128af1c6f9.png"}}]);