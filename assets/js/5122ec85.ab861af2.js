"use strict";(globalThis.webpackChunkdocusaurus=globalThis.webpackChunkdocusaurus||[]).push([[5700],{28453(e,i,t){t.d(i,{R:()=>a,x:()=>l});var s=t(96540);const n={},o=s.createContext(n);function a(e){const i=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:a(e.components),s.createElement(o.Provider,{value:i},e.children)}},68237(e,i,t){t.r(i),t.d(i,{assets:()=>r,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"faq/troubleshooting/why-is-my-file-over-150-kb-missing","title":"Why is my file over 150 KB missing?","description":"Codacy Cloud currently doesn\'t analyze files that are larger than 150 KB. Codacy doesn\'t display these files on the Files page, and doesn\'t take them into account when grading your repository.","source":"@site/docs/faq/troubleshooting/why-is-my-file-over-150-kb-missing.md","sourceDirName":"faq/troubleshooting","slug":"/faq/troubleshooting/why-is-my-file-over-150-kb-missing","permalink":"/docs-docusaurus/faq/troubleshooting/why-is-my-file-over-150-kb-missing","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Why is my file over 150 KB missing?"},"sidebar":"documentationSidebar","previous":{"title":"We no longer have access to this repository, check your SSH keys","permalink":"/docs-docusaurus/faq/troubleshooting/we-no-longer-have-access-to-this-repository"},"next":{"title":"Error caused by incompatible line endings","permalink":"/docs-docusaurus/faq/troubleshooting/error-line-endings"}}');var n=t(74848),o=t(28453);const a={title:"Why is my file over 150 KB missing?"},l=void 0,r={},d=[{value:"Why is there a limit?",id:"why-is-there-a-limit",level:2},{value:"What if I need to analyze a file that exceeds this limit?",id:"what-if-i-need-to-analyze-a-file-that-exceeds-this-limit",level:2},{value:"What about Codacy Self-hosted?",id:"what-about-codacy-self-hosted",level:2}];function c(e){const i={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(i.p,{children:["Codacy Cloud currently ",(0,n.jsx)(i.a,{href:"/docs-docusaurus/faq/code-analysis/does-codacy-place-limits-on-the-code-analysis",children:"doesn't analyze files that are larger than 150 KB"}),". Codacy doesn't display these files on the ",(0,n.jsx)(i.a,{href:"/docs-docusaurus/repositories/files",children:"Files page"}),", and doesn't take them into account when grading your repository."]}),"\n",(0,n.jsx)(i.h2,{id:"why-is-there-a-limit",children:"Why is there a limit?"}),"\n",(0,n.jsx)(i.p,{children:"As part of our performance improvement measures, we spent time breaking down the total time it takes to analyze a repository and found that a large percentage of time was spent on files that didn't add value to our users. Those files tend to be the biggest in the repository and are typically generated by or dependent on a third-party. It increased analysis time significantly due to the file size and even resulted in timeouts at some point, preventing the flagging of real issues."}),"\n",(0,n.jsx)(i.p,{children:"As a solution to this problem, we placed a size limit to the files that Codacy would analyze. This decreased the average analysis time and the number of timeouts, thus improving the overall performance for our users."}),"\n",(0,n.jsx)(i.h2,{id:"what-if-i-need-to-analyze-a-file-that-exceeds-this-limit",children:"What if I need to analyze a file that exceeds this limit?"}),"\n",(0,n.jsxs)(i.p,{children:["While Codacy will ignore your file by default, you can still analyze it by running the analysis locally using the ",(0,n.jsx)(i.a,{href:"https://github.com/codacy/codacy-analysis-cli",children:"Codacy Analysis CLI"}),". The Codacy Analysis CLI doesn't have any limitation on file size."]}),"\n",(0,n.jsx)(i.h2,{id:"what-about-codacy-self-hosted",children:"What about Codacy Self-hosted?"}),"\n",(0,n.jsx)(i.p,{children:"By default, Codacy Self-hosted has the same limit of 150 KB as Codacy Cloud. However, in this case the limit is configurable because the resource allocation for on-premise instances is decided by each organization."}),"\n",(0,n.jsx)(i.p,{children:"To update the file size limit:"}),"\n",(0,n.jsxs)(i.ol,{children:["\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsxs)(i.p,{children:["Edit the value of ",(0,n.jsx)(i.code,{children:"global.workerManager.workers.config.analysis.maxFileSizeBytes"})," in the ",(0,n.jsx)(i.code,{children:"values-production.yaml"})," file that you used to install Codacy:"]}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-yaml",children:"global:\n  workerManager:\n    workers:\n      config:\n        analysis:\n          maxFileSizeBytes: 150000\n"})}),"\n"]}),"\n",(0,n.jsxs)(i.li,{children:["\n",(0,n.jsxs)(i.p,{children:["Apply the new configuration by performing a Helm upgrade and specifying the Codacy Self-hosted version currently installed. To do so execute the command ",(0,n.jsx)(i.a,{href:"../../chart/index.md#helm-upgrade",children:"used to install Codacy"}),":"]}),"\n",(0,n.jsxs)(i.admonition,{type:"caution",children:[(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.strong,{children:"If you're using MicroK8s"})," you must use the file ",(0,n.jsx)(i.code,{children:"values-microk8s.yaml"})," together with the file ",(0,n.jsx)(i.code,{children:"values-production.yaml"}),"."]}),(0,n.jsxs)(i.p,{children:["To do this, uncomment the last line before running the ",(0,n.jsx)(i.code,{children:"helm upgrade"})," command below."]})]}),"\n",(0,n.jsx)(i.pre,{children:(0,n.jsx)(i.code,{className:"language-bash",children:"helm upgrade (...options used to install Codacy...) \\\n             --version <current Codacy Self-hosted version> \\\n             --values values-production.yaml \\\n             # --values values-microk8s.yaml\n"})}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,o.R)(),...e.components};return i?(0,n.jsx)(i,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}}}]);