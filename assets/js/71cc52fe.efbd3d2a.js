"use strict";(globalThis.webpackChunkdocusaurus=globalThis.webpackChunkdocusaurus||[]).push([[8703],{28453(e,s,n){n.d(s,{R:()=>l,x:()=>r});var i=n(96540);const o={},t=i.createContext(o);function l(e){const s=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function r(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:l(e.components),i.createElement(t.Provider,{value:s},e.children)}},50322(e,s,n){n.d(s,{A:()=>i});const i=n.p+"assets/images/cy-4654-bed683e5e3be6a52af1ca9c30246b7ea.png"},86485(e,s,n){n.r(s),n.d(s,{assets:()=>a,contentTitle:()=>r,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"release-notes/self-hosted/v5.0.0-self-hosted","title":"Self-hosted v5.0.0","description":"Release notes for Codacy Self-hosted v5.0.0.","source":"@site/docs/release-notes/self-hosted/v5.0.0-self-hosted.md","sourceDirName":"release-notes/self-hosted","slug":"/release-notes/self-hosted/self-hosted-v5.0.0","permalink":"/docs-docusaurus/release-notes/self-hosted/self-hosted-v5.0.0","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Self-hosted v5.0.0","rss_title":"Codacy release notes RSS feed","rss_href":"/feed_rss_created.xml","description":"Release notes for Codacy Self-hosted v5.0.0.","codacy_tools_version_old":"https://github.com/codacy/codacy-tools/releases/tag/3.9.16","codacy_tools_version_new":"https://github.com/codacy/codacy-tools/releases/tag/4.0.28","slug":"/release-notes/self-hosted/self-hosted-v5.0.0"},"sidebar":"releaseNotesSidebar","previous":{"title":"Self-hosted v5.1.0","permalink":"/docs-docusaurus/release-notes/self-hosted/self-hosted-v5.1.0"},"next":{"title":"Self-hosted v4.4.0","permalink":"/docs-docusaurus/release-notes/self-hosted/self-hosted-v4.4.0"}}');var o=n(74848),t=n(28453);const l={title:"Self-hosted v5.0.0",rss_title:"Codacy release notes RSS feed",rss_href:"/feed_rss_created.xml",description:"Release notes for Codacy Self-hosted v5.0.0.",codacy_tools_version_old:"https://github.com/codacy/codacy-tools/releases/tag/3.9.16",codacy_tools_version_new:"https://github.com/codacy/codacy-tools/releases/tag/4.0.28",slug:"/release-notes/self-hosted/self-hosted-v5.0.0"},r=void 0,a={},d=[{value:"Upgrading Codacy Self-hosted",id:"upgrading-codacy-self-hosted",level:2},{value:"Breaking changes",id:"breaking-changes",level:2},{value:"Product enhancements",id:"product-enhancements",level:2},{value:"Bug fixes",id:"bug-fixes",level:2},{value:"Tool versions",id:"tool-versions",level:2},{value:"See also",id:"see-also",level:2}];function c(e){const s={a:"a",admonition:"admonition",code:"code",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(s.p,{children:["These release notes are for ",(0,o.jsx)(s.a,{href:"https://github.com/codacy/chart/releases/tag/5.0.0",children:"Codacy Self-hosted v5.0.0"}),", released on December 17, 2021."]}),"\n",(0,o.jsxs)(s.p,{children:["\ud83d\udce2 ",(0,o.jsx)(s.a,{href:"https://roadmap.codacy.com",children:"Visit the Codacy roadmap"})," and ",(0,o.jsx)("span",{class:"skip-vale",children:"let us know"})," your feedback on both new and planned product updates!"]}),"\n",(0,o.jsx)(s.h2,{id:"upgrading-codacy-self-hosted",children:"Upgrading Codacy Self-hosted"}),"\n",(0,o.jsx)(s.p,{children:"Follow the steps below to upgrade to Codacy Self-hosted v5.0.0:"}),"\n",(0,o.jsxs)(s.ol,{children:["\n",(0,o.jsxs)(s.li,{children:["\n",(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.a,{href:"/docs-docusaurus/release-notes/#self-hosted",children:"Check the release notes"})," for all Codacy Self-hosted versions between your current version and the most recent version for breaking changes and follow the instructions provided ",(0,o.jsx)("span",{class:"skip-vale",children:"carefully"}),"."]}),"\n",(0,o.jsx)(s.admonition,{type:"warning",children:(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.strong,{children:"This version drops the support for legacy manual organizations."})," Please be sure to ",(0,o.jsx)(s.a,{href:"#breaking-changes",children:"review the breaking changes"})," introduced in this version before upgrading."]})}),"\n"]}),"\n",(0,o.jsxs)(s.li,{children:["\n",(0,o.jsxs)(s.p,{children:["Follow the instructions to ",(0,o.jsx)(s.a,{href:"../../chart/maintenance/upgrade.md",children:"upgrade your Codacy Self-hosted instance"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(s.li,{children:["\n",(0,o.jsxs)(s.p,{children:["Update your Codacy command-line tools to the versions with the Git tag ",(0,o.jsx)(s.code,{children:"self-hosted-5.0.0"}),":"]}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsx)(s.li,{children:(0,o.jsx)(s.a,{href:"https://github.com/codacy/codacy-analysis-cli/releases/tag/self-hosted-5.0.0",children:"Codacy Analysis CLI"})}),"\n",(0,o.jsx)(s.li,{children:(0,o.jsx)(s.a,{href:"https://github.com/codacy/codacy-coverage-reporter/releases/tag/self-hosted-5.0.0",children:"Codacy Coverage Reporter"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(s.h2,{id:"breaking-changes",children:"Breaking changes"}),"\n",(0,o.jsx)(s.p,{children:"This version of Codacy Self-hosted introduces the following breaking changes:"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:["\n",(0,o.jsx)(s.p,{children:"Dropped support for legacy manual organizations."}),"\n",(0,o.jsx)(s.admonition,{type:"caution",children:(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.strong,{children:"If you're using legacy manual organizations"})," please contact ",(0,o.jsx)(s.a,{href:"mailto:support@codacy.com",children:"support@codacy.com"})," before upgrading to Codacy Self-hosted 5.0.0 or above so that ",(0,o.jsx)("span",{class:"skip-vale",children:"we"})," can assist you with migrating your legacy organizations."]})}),"\n"]}),"\n",(0,o.jsxs)(s.li,{children:["\n",(0,o.jsxs)(s.p,{children:["The Codacy components ",(0,o.jsx)(s.code,{children:"codacy-activities"}),", ",(0,o.jsx)(s.code,{children:"hotspots-api"}),", and ",(0,o.jsx)(s.code,{children:"hotspots-worker"})," are no longer needed and were removed."]}),"\n",(0,o.jsx)(s.p,{children:"Although the update process handles this change automatically by deleting the redundant pods from your cluster, it's recommended that after updating Codacy you manually delete:"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:["\n",(0,o.jsxs)(s.p,{children:["The databases ",(0,o.jsx)(s.code,{children:"codacy-activities"})," and ",(0,o.jsx)(s.code,{children:"hotspots"})," since they're no longer used."]}),"\n"]}),"\n",(0,o.jsxs)(s.li,{children:["\n",(0,o.jsx)(s.p,{children:"The following configuration file keys related to these components and their databases:"}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-text",children:"activities.*\nhotspots-api.*\nhotspots-worker.*\nglobal.activitiesdb.*\nglobal.hotspotsdb.*\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(s.h2,{id:"product-enhancements",children:"Product enhancements"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:["\n",(0,o.jsxs)(s.p,{children:["Now, Codacy supports linting OpenAPI and AsyncAPI descriptions in either YAML or JSON files using ",(0,o.jsx)(s.a,{href:"https://stoplight.io/open-source/spectral/",children:"Spectral"}),". (CY-5088)"]}),"\n"]}),"\n",(0,o.jsxs)(s.li,{children:["\n",(0,o.jsxs)(s.p,{children:["You can now ",(0,o.jsx)(s.a,{href:"https://docs.codacy.com/v5.0/organizations/using-a-coding-standard/",children:"use an organization coding standard"})," to apply the same coding best practices, conventions, or security rules to a group of repositories. (CY-4654)"]}),"\n",(0,o.jsx)(s.p,{children:(0,o.jsx)(s.img,{alt:"Organization coding standard",src:n(50322).A+"",width:"1171",height:"602"})}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(s.h2,{id:"bug-fixes",children:"Bug fixes"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:["Fixed an issue that could sometimes cause repository quality settings to be saved only ",(0,o.jsx)("span",{class:"skip-vale",children:"partially"}),". (CY-5380)"]}),"\n",(0,o.jsx)(s.li,{children:"Fixed an issue that could cause SonarVB to time out independently of how many files are analyzed. (CY-5204)"}),"\n",(0,o.jsx)(s.li,{children:"Improved the visual feedback for the Jira integration status. (CY-5190)"}),"\n",(0,o.jsx)(s.li,{children:'Fixed an issue that prevented the message "Refresh the page to see the results" from being displayed on the commit and pull request pages after a re-analysis was completed. (CY-5187)'}),"\n",(0,o.jsxs)(s.li,{children:["Fixed some default regular expressions on ",(0,o.jsx)(s.a,{href:"https://github.com/codacy/codacy-checkstyle",children:(0,o.jsx)("span",{class:"skip-vale",children:"codacy-checkstyle"})})," that could cause the code pattern PackageName to report false positives when configured using the Codacy UI. (CY-5185)"]}),"\n",(0,o.jsx)(s.li,{children:"Fixed an issue that caused ESLint to report false positive issues regarding import statement organization if prettier was enabled. (CY-5143)"}),"\n",(0,o.jsx)(s.li,{children:"Fixed an issue that could allow triggering requests from the Codacy instance servers by injecting a URL into the cursor parameter of the API endpoint to list organization repositories. (CY-5139)"}),"\n",(0,o.jsx)(s.li,{children:"Added protection against CSRF attacks targeting the Codacy API v3. In the case of phishing, even if the victim opens a malicious link, the attack won't work. CVSS v3.1 score: 6.4 (Medium) (CY-5131)"}),"\n",(0,o.jsx)(s.li,{children:"Fixed an issue that prevented Codacy from displaying secondary email addresses from GitLab accounts. (CY-5130)"}),"\n",(0,o.jsx)(s.li,{children:"Fixed the issue cards in the context of a file to display the issue category. (CY-5125)"}),"\n",(0,o.jsx)(s.li,{children:"Fixed an issue that was causing organizations using a legacy plan to get wrong messages about missing members and to not be able to reanalyze commits and PRs. (CY-5112)"}),"\n",(0,o.jsxs)(s.li,{children:["Added support for the JavaScript extension ",(0,o.jsx)(s.code,{children:".mjs"}),". (CY-5086)"]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.a,{href:"https://github.com/codacy/codacy-clang-tidy",children:(0,o.jsx)("span",{class:"skip-vale",children:"codacy-clang-tidy"})})," is now also published as a macOS binary. (CY-5053)"]}),"\n"]}),"\n",(0,o.jsx)(s.h2,{id:"tool-versions",children:"Tool versions"}),"\n",(0,o.jsx)(s.p,{children:"This version of Codacy Self-hosted includes the tool versions below. The tools that were updated on this version are highlighted in bold:"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsx)(s.li,{children:"Ameba 0.13.1"}),"\n",(0,o.jsx)(s.li,{children:"Bandit 1.7.0"}),"\n",(0,o.jsx)(s.li,{children:"Brakeman 4.3.1"}),"\n",(0,o.jsx)(s.li,{children:"bundler-audit 0.6.1"}),"\n",(0,o.jsx)(s.li,{children:"Checkov 2.0.399"}),"\n",(0,o.jsx)(s.li,{children:"Checkstyle 8.44"}),"\n",(0,o.jsx)(s.li,{children:"Clang-Tidy 10.0.1"}),"\n",(0,o.jsx)(s.li,{children:"CodeNarc 2.2.0"}),"\n",(0,o.jsx)(s.li,{children:"CoffeeLint 2.1.0"}),"\n",(0,o.jsx)(s.li,{children:"Cppcheck 2.2"}),"\n",(0,o.jsx)(s.li,{children:"Credo 1.4.0"}),"\n",(0,o.jsx)(s.li,{children:"CSSLint 1.0.5"}),"\n",(0,o.jsx)(s.li,{children:(0,o.jsx)(s.strong,{children:"detekt 1.19.0 (updated from 1.18.1)"})}),"\n",(0,o.jsx)(s.li,{children:"ESLint 7.32.0"}),"\n",(0,o.jsx)(s.li,{children:"Faux-Pas 1.7.2"}),"\n",(0,o.jsx)(s.li,{children:"Flawfinder 2.0.11"}),"\n",(0,o.jsx)(s.li,{children:"Gosec 2.8.1"}),"\n",(0,o.jsx)(s.li,{children:"Hadolint 1.18.2"}),"\n",(0,o.jsx)(s.li,{children:"Jackson Linter 2.10.2"}),"\n",(0,o.jsx)(s.li,{children:"JSHint 2.12.0"}),"\n",(0,o.jsx)(s.li,{children:"markdownlint 0.23.1"}),"\n",(0,o.jsx)(s.li,{children:"PHP Mess Detector 2.10.1"}),"\n",(0,o.jsx)(s.li,{children:(0,o.jsx)(s.strong,{children:"PHP_CodeSniffer 3.6.1 (updated from 3.6.0)"})}),"\n",(0,o.jsx)(s.li,{children:"PMD 6.36.0"}),"\n",(0,o.jsx)(s.li,{children:"PMD (Legacy) 5.8.1"}),"\n",(0,o.jsx)(s.li,{children:"Prospector 1.3.1"}),"\n",(0,o.jsx)(s.li,{children:"PSScriptAnalyzer 1.18.3"}),"\n",(0,o.jsx)(s.li,{children:"Pylint 1.9.5"}),"\n",(0,o.jsx)(s.li,{children:"Pylint (Python 3) 2.7.4"}),"\n",(0,o.jsx)(s.li,{children:"remark-lint 7.0.1"}),"\n",(0,o.jsx)(s.li,{children:"Revive 1.0.2"}),"\n",(0,o.jsx)(s.li,{children:(0,o.jsx)(s.strong,{children:"RuboCop 1.23.0 (updated from 1.21.0)"})}),"\n",(0,o.jsx)(s.li,{children:"Scalastyle 1.5.0"}),"\n",(0,o.jsx)(s.li,{children:(0,o.jsx)(s.strong,{children:"ShellCheck 0.7.2 (updated from 0.7.1)"})}),"\n",(0,o.jsx)(s.li,{children:(0,o.jsx)(s.strong,{children:"SonarC# 8.30 (updated from 8.25)"})}),"\n",(0,o.jsx)(s.li,{children:"SonarVB 8.15"}),"\n",(0,o.jsx)(s.li,{children:(0,o.jsx)(s.strong,{children:"Spectral (new)"})}),"\n",(0,o.jsx)(s.li,{children:"SpotBugs 4.1.2"}),"\n",(0,o.jsx)(s.li,{children:"SQLint 0.1.9"}),"\n",(0,o.jsx)(s.li,{children:"Staticcheck 2020.1.6"}),"\n",(0,o.jsx)(s.li,{children:"Stylelint 13.13.1"}),"\n",(0,o.jsx)(s.li,{children:(0,o.jsx)(s.strong,{children:"SwiftLint 0.43.1 (updated from 0.40.0)"})}),"\n",(0,o.jsx)(s.li,{children:"Tailor 0.12.0"}),"\n",(0,o.jsx)(s.li,{children:"TSLint 6.1.3"}),"\n",(0,o.jsx)(s.li,{children:"TSQLLint 1.11.1"}),"\n"]}),"\n",(0,o.jsx)(s.h2,{id:"see-also",children:"See also"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:["Announcement for the ",(0,o.jsx)(s.a,{href:"../cloud/cloud-2021-11-02-legacy-organizations.md",children:"end of support for legacy manual organizations on Codacy Cloud"})]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,o.jsx)(s,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}}}]);