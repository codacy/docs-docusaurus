"use strict";(globalThis.webpackChunkdocusaurus=globalThis.webpackChunkdocusaurus||[]).push([[7257],{4961(n,e,o){o.d(e,{Ay:()=>c,RM:()=>r});var s=o(74848),i=o(81779);const t=function({toolName:n}){return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("li",{children:[(0,s.jsxs)("a",{href:"/repositories-configure/configuring-code-patterns/",children:["Enable ",n]})," ","and configure the corresponding code patterns on your repository"," ",(0,s.jsx)("strong",{children:"Code patterns"})," page."]}),(0,s.jsxs)("li",{children:["Enable ",(0,s.jsx)("strong",{children:"Run analysis on your build server"})," on your repository ",(0,s.jsx)("strong",{children:"Settings"}),", tab ",(0,s.jsx)("strong",{children:"General"}),","," ",(0,s.jsx)("strong",{children:"Repository analysis on your server"}),".",(0,s.jsx)("p",{children:"This setting enables Codacy to wait for the results of the local analysis before resuming the analysis of your commits."}),(0,s.jsx)("p",{children:(0,s.jsx)("img",{src:"./images/run-analysis-through-build-server.png",alt:"Run analysis on your build server"})})]}),(0,s.jsxs)("li",{children:["Set up an API token to authenticate on Codacy:",(0,s.jsxs)("ul",{children:[(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"If you're setting up one repository"}),","," ",(0,s.jsx)("a",{href:"/codacy-api/api-tokens#repository-api-tokens",children:"obtain a repository API token"})," ","and set the following environment variable to specify your repository API token:",(0,s.jsx)("pre",{children:(0,s.jsx)("code",{className:"language-bash",children:"export CODACY_PROJECT_TOKEN=<your repository API token>"})})]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"If you're setting up multiple repositories"}),","," ",(0,s.jsx)("a",{href:"/codacy-api/api-tokens#account-api-tokens",children:"obtain an account API Token"})," ","and set the following environment variable to specify the account API token:",(0,s.jsx)("pre",{children:(0,s.jsx)("code",{className:"language-bash",children:"export CODACY_API_TOKEN=<your account API token>"})})]})]}),(0,s.jsx)(i.Ay,{})]}),(0,s.jsxs)("li",{children:[(0,s.jsx)("strong",{children:"If you're using Codacy Self-hosted"})," set the following environment variable to specify your Codacy instance URL:",(0,s.jsx)("pre",{children:(0,s.jsx)("code",{className:"language-bash",children:"export CODACY_API_BASE_URL=<your Codacy instance URL>"})})]})]})},r=[];function a(n){return(0,s.jsx)(s.Fragment,{})}function c(n={}){return(0,s.jsx)(t,{...n,children:(0,s.jsx)(a,{...n})})}},25935(n,e,o){o.r(e),o.d(e,{assets:()=>l,contentTitle:()=>c,default:()=>p,frontMatter:()=>a,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"repositories-configure/local-analysis/running-eslint","title":"Running ESLint","description":"Instructions on how to run ESLint as a client-side tool on Codacy.","source":"@site/docs/repositories-configure/local-analysis/running-eslint.mdx","sourceDirName":"repositories-configure/local-analysis","slug":"/repositories-configure/local-analysis/running-eslint","permalink":"/docs-docusaurus/docs/repositories-configure/local-analysis/running-eslint","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Running ESLint","description":"Instructions on how to run ESLint as a client-side tool on Codacy.","tool_name":"ESLint"},"sidebar":"documentationSidebar","previous":{"title":"Running SpotBugs","permalink":"/docs-docusaurus/docs/repositories-configure/local-analysis/running-spotbugs"},"next":{"title":"Using submodules","permalink":"/docs-docusaurus/docs/repositories-configure/using-submodules"}}');var i=o(74848),t=o(28453),r=o(4961);const a={title:"Running ESLint",description:"Instructions on how to run ESLint as a client-side tool on Codacy.",tool_name:"ESLint"},c=void 0,l={},d=[...r.RM,{value:"Important Concepts",id:"important-concepts",level:2},{value:"Manual configuration",id:"manual-configuration",level:2},{value:"GitHub Action",id:"github-action",level:2},{value:"Using a project token",id:"using-a-project-token",level:3},{value:"Using an account API token",id:"using-an-account-api-token",level:3}];function u(n){const e={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(e.p,{children:["To run ESLint as a ",(0,i.jsx)(e.a,{href:"/docs-docusaurus/docs/repositories-configure/local-analysis/client-side-tools",children:"client-side tool"}),":"]}),"\n",(0,i.jsx)("ol",{children:(0,i.jsx)(r.Ay,{toolName:"ESLint"})}),"\n",(0,i.jsx)(e.h2,{id:"important-concepts",children:"Important Concepts"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:(0,i.jsx)(e.code,{children:".codacy/codacy.yaml"})}),": Configuration file to specify ",(0,i.jsx)(e.code,{children:"node"})," and ",(0,i.jsx)(e.code,{children:"eslint"})," versions for the CLI."]}),"\n"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-yaml",children:"runtimes:\n    - node@22.2.0\ntools:\n    - eslint@9.3.0\n"})}),"\n",(0,i.jsx)(e.h2,{id:"manual-configuration",children:"Manual configuration"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"codacy-cli install\ncodacy-cli analyze -t eslint -o eslint.sarif\ncodacy-cli upload -s eslint.sarif -c $COMMIT_SHA -t CODACY_PROJECT_TOKEN\n"})}),"\n",(0,i.jsxs)(e.p,{children:[(0,i.jsx)(e.strong,{children:"If you're using an account API token"}),", you must also provide the flags ",(0,i.jsx)(e.code,{children:"-p"}),", ",(0,i.jsx)(e.code,{children:"-o"}),", and ",(0,i.jsx)(e.code,{children:"-r"}),". You can obtain the values for these flags from the URL of your repository dashboard on Codacy:"]}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-bash",children:"codacy-cli install\ncodacy-cli analyze -t eslint -o eslint.sarif\ncodacy-cli analyze -t eslint -o eslint.sarif -c $COMMIT_SHA -a CODACY_API_TOKEN -p provider (gh|gl|bb) -o ORGANIZATION -r REPOSITORY\n"})}),"\n",(0,i.jsx)(e.h2,{id:"github-action",children:"GitHub Action"}),"\n",(0,i.jsx)(e.h3,{id:"using-a-project-token",children:"Using a project token"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-yml",children:"- name: Run Codacy CLI\n  uses: codacy/codacy-cli-v2-action@main\n  with:\n    project-token: CODACY_PROJECT_TOKEN\n    tool: eslint\n    upload_report: true\n"})}),"\n",(0,i.jsx)(e.h3,{id:"using-an-account-api-token",children:"Using an account API token"}),"\n",(0,i.jsx)(e.pre,{children:(0,i.jsx)(e.code,{className:"language-yml",children:"- name: Run Codacy CLI\n  uses: codacy/codacy-cli-v2-action@main\n  with:\n    api_token: CODACY_API_TOKEN\n    tool: eslint\n    upload_report: true\n    provider: gh\n    owner: codacy-acme\n    repository: sample-javascript-project\n"})}),"\n",(0,i.jsx)(e.admonition,{title:"Tokens should be stored in the repository secrets.",type:"caution"})]})}function p(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(u,{...n})}):u(n)}},28453(n,e,o){o.d(e,{R:()=>r,x:()=>a});var s=o(96540);const i={},t=s.createContext(i);function r(n){const e=s.useContext(t);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:r(n.components),s.createElement(t.Provider,{value:e},n.children)}},81779(n,e,o){o.d(e,{Ay:()=>a,RM:()=>t});var s=o(74848),i=o(28453);const t=[];function r(n){const e={admonition:"admonition",p:"p",strong:"strong",...(0,i.R)(),...n.components};return(0,s.jsxs)(e.admonition,{type:"caution",children:[(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Never write API tokens to your configuration files"})," and keep your API tokens well protected, as they grant owner permissions to your projects on Codacy."]}),(0,s.jsx)(e.p,{children:"It's a best practice to store API tokens as environment variables. Check the documentation of your CI/CD platform on how to do this."})]})}function a(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(r,{...n})}):r(n)}}}]);