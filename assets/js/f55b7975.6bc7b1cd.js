"use strict";(globalThis.webpackChunkdocusaurus=globalThis.webpackChunkdocusaurus||[]).push([[4261],{28453(e,t,n){n.d(t,{R:()=>a,x:()=>r});var o=n(96540);const s={},i=o.createContext(s);function a(e){const t=o.useContext(i);return o.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),o.createElement(i.Provider,{value:t},e.children)}},28731(e,t,n){n.d(t,{A:()=>o});const o=n.p+"assets/images/duplication-commits-174edab54f6e632f0143c03293c5a0cc.png"},36264(e,t,n){n.d(t,{A:()=>o});const o=n.p+"assets/images/duplication-files-371a4a4f9ad19b3df723310387034c0d.png"},46421(e,t,n){n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>u,frontMatter:()=>a,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"faq/troubleshooting/why-arent-duplication-metrics-being-calculated","title":"Why aren\'t duplication metrics being calculated?","description":"For performance reasons, Codacy skips the calculation of code duplication for programming languages that have more than 5000 source code files in a repository.","source":"@site/docs/faq/troubleshooting/why-arent-duplication-metrics-being-calculated.md","sourceDirName":"faq/troubleshooting","slug":"/faq/troubleshooting/why-arent-duplication-metrics-being-calculated","permalink":"/docs-docusaurus/faq/troubleshooting/why-arent-duplication-metrics-being-calculated","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Why aren\'t duplication metrics being calculated?"},"sidebar":"documentationSidebar","previous":{"title":"Why did Codacy stop commenting on pull requests?","permalink":"/docs-docusaurus/faq/troubleshooting/why-did-codacy-stop-commenting-on-pull-requests"},"next":{"title":"Why isn\'t my public repository being analyzed?","permalink":"/docs-docusaurus/faq/troubleshooting/why-isnt-my-public-repository-being-analyzed"}}');var s=n(74848),i=n(28453);const a={title:"Why aren't duplication metrics being calculated?"},r=void 0,c={},l=[];function d(e){const t={a:"a",code:"code",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.p,{children:"For performance reasons, Codacy skips the calculation of code duplication for programming languages that have more than 5000 source code files in a repository."}),"\n",(0,s.jsx)(t.p,{children:"Besides this, if Codacy fails to calculate code duplication for a specific programming language in a repository three times in a row (for example, because the tool calculating the analysis runs out of memory or times out), Codacy stops trying to analyze the metric for that language and repository."}),"\n",(0,s.jsx)(t.p,{children:"When this happens, Codacy doesn't display code duplication metrics for the affected language:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.strong,{children:"Files"})," page on your repository displays a blank duplication value for files of the affected language."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"Duplication in the Files page",src:n(36264).A+"",width:"1311",height:"787"})}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.strong,{children:"Commits"})," and ",(0,s.jsx)(t.strong,{children:"Pull Request"})," pages display an empty ",(0,s.jsx)(t.strong,{children:"Duplication"})," tab."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"New duplication for a commit",src:n(28731).A+"",width:"1276",height:"710"})}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"The analysis logs for commits won't display a duplication analysis task for the tool corresponding to the affected language."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"As a workaround, if you're exceeding the maximum number of source code files:"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:["Use a ",(0,s.jsx)(t.a,{href:"../../repositories-configure/codacy-configuration-file.md",children:"Codacy configuration file"})," to exclude source code files of the affected language from your project to decrease the number of files to be analyzed."]}),"\n",(0,s.jsxs)(t.p,{children:["For example, you may be able to exclude files that are automatically generated from your test suite or files belonging to dependencies that aren't maintained by your team, such as the ",(0,s.jsx)(t.code,{children:"node_modules"})," folder for JavaScript projects."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsx)(t.p,{children:"Reanalyze the last commit in the repository so that Codacy runs the code duplication analysis."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"If the analysis finishes but the code duplication metric wasn't calculated, follow the next steps:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"If you're using Codacy Self-hosted"}),", open the ",(0,s.jsx)(t.strong,{children:"Admin panel"}),", ",(0,s.jsx)(t.strong,{children:"Repositories"}),", select the repository, tab ",(0,s.jsx)(t.strong,{children:"Settings"}),", and reset the code duplication analysis in ",(0,s.jsx)(t.strong,{children:"Duplication settings"}),". Then, reanalyze the last commit in the repository so that Codacy runs the code duplication analysis."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"Resetting the failed duplication analysis",src:n(50588).A+"",width:"1171",height:"684"})}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsxs)(t.strong,{children:["If you're ",(0,s.jsx)(t.a,{href:"/docs-docusaurus/repositories-configure/local-analysis/client-side-tools",children:"analyzing your repository locally"})]})," with the Codacy Analysis CLI, consider using the flag ",(0,s.jsx)(t.code,{children:"--tool-timeout"})," to specify a larger timeout for the execution of the tool."]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"If you're using Codacy Cloud"})," or if the steps above didn't solve the issue, please contact us at ",(0,s.jsx)(t.a,{href:"mailto:support@codacy.com",children:"support@codacy.com"}),"."]}),"\n"]}),"\n"]})]})}function u(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},50588(e,t,n){n.d(t,{A:()=>o});const o=n.p+"assets/images/duplication-metrics-reset-afbdbf56303c97f85288a35472d0384b.png"}}]);