"use strict";(globalThis.webpackChunkdocusaurus=globalThis.webpackChunkdocusaurus||[]).push([[6805],{28453(e,s,i){i.d(s,{R:()=>r,x:()=>a});var o=i(96540);const t={},n=o.createContext(t);function r(e){const s=o.useContext(n);return o.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),o.createElement(n.Provider,{value:s},e.children)}},33054(e,s,i){i.d(s,{A:()=>o});const o=i.p+"assets/images/2024-01-15-gh-updated-permissions-eb46cbdfb6079e0fd38a5801dacf4e4d.png"},52853(e,s,i){i.r(s),i.d(s,{assets:()=>d,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"release-notes/cloud/2024/2024-01-15-cloud-gh-repository-ssh-keys-discontinuation","title":"Discontinuation of SSH keys for GitHub repositories January 15, 2024","description":"For increased security, Codacy is discontinuing the usage of repository SSH keys for Git operations on GitHub in favor of installation access tokens.","source":"@site/docs/release-notes/cloud/2024/2024-01-15-cloud-gh-repository-ssh-keys-discontinuation.md","sourceDirName":"release-notes/cloud/2024","slug":"/release-notes/cloud/cloud-2024-01-15-gh-repository-ssh-keys-discontinuation","permalink":"/docs-docusaurus/docs/release-notes/cloud/cloud-2024-01-15-gh-repository-ssh-keys-discontinuation","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Discontinuation of SSH keys for GitHub repositories January 15, 2024","rss_title":"Codacy release notes RSS feed","rss_href":"/feed_rss_created.xml","slug":"/release-notes/cloud/cloud-2024-01-15-gh-repository-ssh-keys-discontinuation"},"sidebar":"releaseNotesSidebar","previous":{"title":"Cloud February 2024","permalink":"/docs-docusaurus/docs/release-notes/cloud/cloud-2024-02"},"next":{"title":"Cloud January 2024","permalink":"/docs-docusaurus/docs/release-notes/cloud/cloud-2024-01"}}');var t=i(74848),n=i(28453);const r={title:"Discontinuation of SSH keys for GitHub repositories January 15, 2024",rss_title:"Codacy release notes RSS feed",rss_href:"/feed_rss_created.xml",slug:"/release-notes/cloud/cloud-2024-01-15-gh-repository-ssh-keys-discontinuation"},a=void 0,d={},c=[{value:"Changes on the Codacy GitHub App required permissions",id:"changes-permissions",level:2},{value:"What do you need to do if you have a GitHub organization?",id:"to-do",level:2},{value:"Removal of repository permissions for Administration and SSH keys",id:"timeline",level:2},{value:"See also",id:"see-also",level:2}];function l(e){const s={a:"a",admonition:"admonition",h2:"h2",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,n.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.admonition,{title:"This release note applies only to GitHub",type:"note"}),"\n",(0,t.jsxs)(s.p,{children:["For increased security, Codacy is discontinuing the usage of ",(0,t.jsx)(s.strong,{children:"repository SSH keys"})," for Git operations on GitHub in favor of ",(0,t.jsx)(s.strong,{children:"installation access tokens"}),"."]}),"\n",(0,t.jsx)(s.p,{children:"This change translates into important security improvements:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["It limits the access level of the Codacy GitHub App, as it no longer requires ",(0,t.jsx)(s.a,{href:"https://docs.github.com/en/rest/authentication/permissions-required-for-github-apps?apiVersion=2022-11-28#repository-permissions-for-administration",children:"read and write repository permissions for Administration"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:["Contrary to long-living SSH keys, ",(0,t.jsx)(s.a,{href:"https://docs.github.com/en/apps/creating-github-apps/authenticating-with-a-github-app/generating-an-installation-access-token-for-a-github-app#about-installation-access-tokens",children:"installation access tokens"})," expire after one hour and Codacy loses access when the GitHub App is uninstalled."]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:["To minimize any impact, Codacy is currently discontinuing the usage of repository SSH keys but will keep using them as a fallback mechanism at this first stage. At a later stage, Codacy will ",(0,t.jsx)(s.a,{href:"#timeline",children:"stop using repository SSH keys and delete the keys"})," stored in our systems."]}),"\n",(0,t.jsx)(s.h2,{id:"changes-permissions",children:"Changes on the Codacy GitHub App required permissions"}),"\n",(0,t.jsxs)(s.p,{children:["To use installation access tokens, the Codacy GitHub App now requires ",(0,t.jsx)(s.a,{href:"https://docs.github.com/en/rest/authentication/permissions-required-for-github-apps?apiVersion=2022-11-28#repository-permissions-for-contents",children:"repository read permissions for Contents"}),"."]}),"\n",(0,t.jsxs)(s.p,{children:["On the other hand, the usage of installation access tokens no longer requires ",(0,t.jsx)(s.a,{href:"https://docs.github.com/en/rest/authentication/permissions-required-for-github-apps?apiVersion=2022-11-28#repository-permissions-for-administration",children:"read and write repository permissions for Administration"}),". The Codacy GitHub App still requests this permission during this first stage, while using repository SSH keys as a fallback mechanism. At a later stage, Codacy will ",(0,t.jsx)(s.a,{href:"#timeline",children:"remove the permission from the GitHub App"}),"."]}),"\n",(0,t.jsx)(s.h2,{id:"to-do",children:"What do you need to do if you have a GitHub organization?"}),"\n",(0,t.jsxs)(s.p,{children:["Make sure an organization owner ",(0,t.jsx)(s.a,{href:"https://docs.github.com/en/apps/using-github-apps/reviewing-and-modifying-installed-github-apps",children:"approves the updated permissions for the Codacy GitHub App"})," on your GitHub organization, if not done yet."]}),"\n",(0,t.jsxs)(s.p,{children:["Codacy has been requesting repository read permissions for ",(0,t.jsx)(s.strong,{children:"Contents"})," since September 2023. Organization owners should have received a GitHub notification to review a request for this additional permission:"]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.img,{alt:"Codacy GitHub App updated permissions request",src:i(33054).A+"",width:"665",height:"667"})}),"\n",(0,t.jsxs)(s.p,{children:["If you have any questions or need help, please contact ",(0,t.jsx)(s.a,{href:"mailto:support@codacy.com",children:"support@codacy.com"}),"."]}),"\n",(0,t.jsx)(s.h2,{id:"timeline",children:"Removal of repository permissions for Administration and SSH keys"}),"\n",(0,t.jsx)(s.p,{children:"To ensure the conditions to use installation access tokens on GitHub organizations are met before the removal of repository permissions for Administration and SSH keys, Codacy will execute a phased rollout according to the timeline below:"}),"\n",(0,t.jsxs)("table",{children:[(0,t.jsxs)("thead",{children:[(0,t.jsx)("th",{children:"Date"}),(0,t.jsx)("th",{children:"Event"}),(0,t.jsx)("th",{children:"What to expect"})]}),(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"January 15, 2024"}),(0,t.jsx)("td",{children:"Codacy started using installation access tokens to clone and integrate with your repositories"}),(0,t.jsxs)("td",{children:[(0,t.jsx)("p",{children:"From this day on, repository SSH keys are used exclusively as a fallback mechanism when the Contents permission is missing."}),(0,t.jsxs)("p",{children:["If not done yet, make sure an organization owner ",(0,t.jsx)("a",{href:"#to-do",children:"approves Codacy GitHub App updated permissions"})," on your GitHub organization."]})]})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"February 12, 2024"}),(0,t.jsx)("td",{children:"Brownout of repository permissions for Administration"}),(0,t.jsxs)("td",{children:[(0,t.jsx)("p",{children:"On this day, Codacy won't use any fallback mechanism if the Contents permission is missing."}),(0,t.jsxs)("p",{children:["This will help you confirm that the updated permissions for the Codacy GitHub App were already approved for your organization.",(0,t.jsx)("br",{}),"If on this date your Codacy quality analysis fails or you have problems adding new repositories to Codacy, make sure an organization owner ",(0,t.jsx)("a",{href:"#to-do",children:"approves the updated permissions for the Codacy GitHub App"})," on your GitHub organization."]})]})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"February 19, 2024"}),(0,t.jsx)("td",{children:"Codacy will remove repository permissions for Administration from the Codacy GitHub App and stop using repository SSH keys"}),(0,t.jsxs)("td",{children:[(0,t.jsx)("p",{children:"Codacy will start using installation access tokens to clone and integrate with your repositories, with no fallback mechanisms. Also, repository permissions for Administration will be removed from the Codacy GitHub App."}),(0,t.jsxs)("p",{children:["If on this day the Codacy GitHub App updated permissions haven't been approved on your GitHub organization yet, your Codacy quality analysis will fail and you'll not be able to add new repositories to Codacy until an organization owner ",(0,t.jsx)("a",{href:"#to-do",children:"approves the updated permissions"}),"."]})]})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:"To define"}),(0,t.jsx)("td",{children:"Codacy will no longer store repository SSH keys"}),(0,t.jsxs)("td",{children:[(0,t.jsx)("p",{children:"On this day, Codacy will delete all the repository SSH keys stored in our systems."}),(0,t.jsxs)("p",{children:["For increased security, you can ",(0,t.jsx)("a",{href:"https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/reviewing-your-deploy-keys",children:"revoke the keys created by Codacy on your GitHub repository"}),"."]})]})]})]})]}),"\n",(0,t.jsx)(s.h2,{id:"see-also",children:"See also"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:(0,t.jsx)(s.a,{href:"/docs-docusaurus/docs/getting-started/which-permissions-does-codacy-need-from-my-account#github-cloud",children:"Which permissions are required by Codacy GitHub App?"})}),"\n"]})]})}function u(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}}}]);