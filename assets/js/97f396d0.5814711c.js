"use strict";(globalThis.webpackChunkdocusaurus=globalThis.webpackChunkdocusaurus||[]).push([[5635],{28453(e,s,n){n.d(s,{R:()=>t,x:()=>i});var r=n(96540);const l={},o=r.createContext(l);function t(e){const s=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:t(e.components),r.createElement(o.Provider,{value:s},e.children)}},92770(e,s,n){n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"release-notes/self-hosted/v12.0.0-self-hosted","title":"Self-hosted v12.0.0","description":"Release notes for Codacy Self-hosted v12.0.0.","source":"@site/docs/release-notes/self-hosted/v12.0.0-self-hosted.md","sourceDirName":"release-notes/self-hosted","slug":"/release-notes/self-hosted/self-hosted-v12.0.0","permalink":"/docs-docusaurus/release-notes/self-hosted/self-hosted-v12.0.0","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Self-hosted v12.0.0","rss_title":"Codacy release notes RSS feed","rss_href":"/feed_rss_created.xml","description":"Release notes for Codacy Self-hosted v12.0.0.","codacy_tools_version_old":"https://github.com/codacy/codacy-tools-sh/releases/tag/sh-1.1.6","codacy_tools_version_new":"https://github.com/codacy/codacy-tools-sh/releases/tag/sh-1.2.2","slug":"/release-notes/self-hosted/self-hosted-v12.0.0"},"sidebar":"releaseNotesSidebar","previous":{"title":"Self-hosted v13.0.0","permalink":"/docs-docusaurus/release-notes/self-hosted/self-hosted-v13.0.0"},"next":{"title":"Self-hosted v11.0.0","permalink":"/docs-docusaurus/release-notes/self-hosted/self-hosted-v11.0.0"}}');var l=n(74848),o=n(28453);const t={title:"Self-hosted v12.0.0",rss_title:"Codacy release notes RSS feed",rss_href:"/feed_rss_created.xml",description:"Release notes for Codacy Self-hosted v12.0.0.",codacy_tools_version_old:"https://github.com/codacy/codacy-tools-sh/releases/tag/sh-1.1.6",codacy_tools_version_new:"https://github.com/codacy/codacy-tools-sh/releases/tag/sh-1.2.2",slug:"/release-notes/self-hosted/self-hosted-v12.0.0"},i=void 0,c={},d=[{value:"Upgrading Codacy Self-hosted",id:"upgrading-codacy-self-hosted",level:2},{value:"Breaking changes",id:"breaking-changes",level:2},{value:"Product enhancements",id:"product-enhancements",level:2},{value:"Tool versions",id:"tool-versions",level:2}];function a(e){const s={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(s.p,{children:["These release notes are for ",(0,l.jsx)(s.a,{href:"https://github.com/codacy/chart/releases/tag/12.0.0",children:"Codacy Self-hosted v12.0.0"}),", released on July 20, 2023."]}),"\n",(0,l.jsxs)(s.p,{children:["\ud83d\udce2 ",(0,l.jsx)(s.a,{href:"https://roadmap.codacy.com",children:"Visit the Codacy roadmap"})," and ",(0,l.jsx)("span",{class:"skip-vale",children:"let us know"})," your feedback on both new and planned product updates!"]}),"\n",(0,l.jsx)(s.h2,{id:"upgrading-codacy-self-hosted",children:"Upgrading Codacy Self-hosted"}),"\n",(0,l.jsx)(s.p,{children:"Follow the steps below to upgrade to Codacy Self-hosted v12.0.0:"}),"\n",(0,l.jsxs)(s.ol,{children:["\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsxs)(s.p,{children:["Check the ",(0,l.jsx)(s.a,{href:"/docs-docusaurus/release-notes/#self-hosted",children:"release notes for all Codacy Self-hosted versions"})," ",(0,l.jsx)(s.strong,{children:"between your current version and the most recent version"})," for breaking changes and follow the instructions provided ",(0,l.jsx)("span",{class:"skip-vale",children:"carefully"}),"."]}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsxs)(s.p,{children:["Follow the instructions to ",(0,l.jsx)(s.a,{href:"https://docs.codacy.com/v12.0/chart/maintenance/upgrade/",children:"upgrade your Codacy Self-hosted instance"}),"."]}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsx)(s.p,{children:"Update your Codacy command-line tools to the following versions:"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsx)(s.li,{children:(0,l.jsx)(s.a,{href:"https://github.com/codacy/codacy-analysis-cli/releases/tag/7.8.3",children:"Codacy Analysis CLI 7.8.3"})}),"\n",(0,l.jsx)(s.li,{children:(0,l.jsx)(s.a,{href:"https://github.com/codacy/codacy-coverage-reporter/releases/tag/13.10.15",children:"Codacy Coverage Reporter 13.10.15"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(s.h2,{id:"breaking-changes",children:"Breaking changes"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsxs)(s.p,{children:["If you have set ",(0,l.jsx)(s.code,{children:'scheduler.enable: "true"'})," in ",(0,l.jsx)(s.code,{children:"values-production.yaml"})," (or ",(0,l.jsx)(s.code,{children:"values-microk8s.yaml"})," if using MicroK8s), do the following before updating Kubernetes."]}),"\n",(0,l.jsxs)(s.p,{children:["Assuming you're using the default ",(0,l.jsx)(s.code,{children:"codacy"})," namespace:"]}),"\n",(0,l.jsxs)(s.ol,{children:["\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsxs)(s.p,{children:["Remove all ",(0,l.jsx)(s.code,{children:"scheduler.*"})," settings from ",(0,l.jsx)(s.code,{children:"values-production.yaml"})," (or ",(0,l.jsx)(s.code,{children:"values-microk8s.yaml"})," if using MicroK8s)"]}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsxs)(s.p,{children:["Update the ConfigMap of ",(0,l.jsx)(s.code,{children:"codacy-worker-manager"}),":"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-bash",children:'kubectl patch configmap/codacy-worker-manager --namespace codacy --type merge --patch \'{"data":{"CONFIG_FORCE_codacy_kubernetes_scheduler_enable": "false","CONFIG_FORCE_codacy_kubernetes_scheduler_name":"default-scheduler"}}\'\n'})}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsxs)(s.p,{children:["Restart the ",(0,l.jsx)(s.code,{children:"codacy-worker-manager"})," Deployment:"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-bash",children:"kubectl rollout restart deployment/codacy-worker-manager -n codacy\n"})}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsxs)(s.p,{children:["List any pending ",(0,l.jsx)(s.code,{children:"worker"})," Pods:"]}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-bash",children:"kubectl get pods -l app=worker --field-selector=status.phase=Pending -n codacy\n"})}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsxs)(s.p,{children:["If there are any pending ",(0,l.jsx)(s.code,{children:"worker"})," Pods, remove them:"]}),"\n",(0,l.jsx)(s.admonition,{type:"caution",children:(0,l.jsx)(s.p,{children:"This is a destructive action. Make sure you understand the consequences."})}),"\n",(0,l.jsx)(s.pre,{children:(0,l.jsx)(s.code,{className:"language-bash",children:"kubectl delete pods -l app=worker --field-selector=status.phase=Pending -n codacy\n"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsx)(s.p,{children:"If you're upgrading your Kubernetes installation to v1.25, make sure to do the following in the recommended order to avoid service outages:"}),"\n",(0,l.jsxs)(s.ol,{children:["\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsx)(s.p,{children:"Upgrade to Codacy Self-hosted v12.0.0"}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsxs)(s.p,{children:["If using the monitoring functionality ",(0,l.jsx)(s.a,{href:"https://docs.codacy.com/v12.0/chart/configuration/monitoring/#setting-up-monitoring-using-grafana-prometheus-and-loki",children:"Grafana + Prometheus + Loki"}),", update Loki and Promtail by following the latest respective installation instructions (",(0,l.jsx)(s.a,{href:"https://docs.codacy.com/v12.0/chart/configuration/monitoring/#2-installing-loki",children:"Loki"}),", ",(0,l.jsx)(s.a,{href:"https://docs.codacy.com/v12.0/chart/configuration/monitoring/#3-installing-promtail",children:"Promtail"}),")."]}),"\n"]}),"\n",(0,l.jsxs)(s.li,{children:["\n",(0,l.jsx)(s.p,{children:"Upgrade Kubernetes to v1.25"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(s.h2,{id:"product-enhancements",children:"Product enhancements"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:["Added support for ",(0,l.jsx)(s.a,{href:"https://docs.codacy.com/v12.0/chart/requirements/#kubernetes-or-microk8s-cluster-setup",children:"Kubernetes 1.24.* and 1.25.*"})," (REL-1304, REL-1306)"]}),"\n",(0,l.jsxs)(s.li,{children:["Added support for the Stylelint plugin ",(0,l.jsx)(s.a,{href:"https://www.npmjs.com/package/stylelint-no-px",children:(0,l.jsx)("span",{class:"skip-vale",children:"stylelint-no-px"})}),". (TS-455)"]}),"\n",(0,l.jsx)(s.li,{children:"Improved the performance of the tool Stylelint by reviewing and refactoring the tool configurations and supported packages. (TS-438)"}),"\n",(0,l.jsxs)(s.li,{children:["Updated and refactored the tool Ameba. ",(0,l.jsxs)(s.a,{href:"https://github.com/codacy/codacy-ameba/pull/25",children:["Thanks to ",(0,l.jsx)("span",{class:"skip-vale",children:"Sija"})," for the contribution!"]})," (TS-417)"]}),"\n"]}),"\n",(0,l.jsx)(s.h2,{id:"tool-versions",children:"Tool versions"}),"\n",(0,l.jsx)(s.p,{children:"This version of Codacy Self-hosted includes the tool versions below. The tools that were updated on this version are highlighted in bold:"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsx)(s.li,{children:(0,l.jsxs)(s.strong,{children:[(0,l.jsx)(s.a,{href:"https://github.com/crystal-ameba/ameba/releases/tag/v1.4.3",children:"Ameba 1.4.3"})," (updated from 0.13.1)"]})}),"\n",(0,l.jsx)(s.li,{children:"Bandit 1.7.0"}),"\n",(0,l.jsx)(s.li,{children:"Brakeman 4.3.1"}),"\n",(0,l.jsx)(s.li,{children:"bundler-audit 0.6.1"}),"\n",(0,l.jsx)(s.li,{children:(0,l.jsxs)(s.strong,{children:[(0,l.jsx)(s.a,{href:"https://github.com/bridgecrewio/checkov/releases/tag/2.3.187",children:"Checkov 2.3.187"})," (updated from 2.1.188)"]})}),"\n",(0,l.jsx)(s.li,{children:"Checkstyle 10.3.1"}),"\n",(0,l.jsx)(s.li,{children:"Clang-Tidy 10.0.1"}),"\n",(0,l.jsx)(s.li,{children:"CodeNarc 3.2.0"}),"\n",(0,l.jsx)(s.li,{children:"CoffeeLint 2.1.0"}),"\n",(0,l.jsx)(s.li,{children:(0,l.jsxs)(s.strong,{children:[(0,l.jsx)(s.a,{href:"https://github.com/danmar/cppcheck/releases/tag/2.10.3",children:"Cppcheck 2.10.3"})," (updated from 2.10)"]})}),"\n",(0,l.jsx)(s.li,{children:"Credo 1.4.0"}),"\n",(0,l.jsx)(s.li,{children:"CSSLint 1.0.5"}),"\n",(0,l.jsx)(s.li,{children:"dartanalyzer 2.17.0"}),"\n",(0,l.jsx)(s.li,{children:(0,l.jsxs)(s.strong,{children:[(0,l.jsx)(s.a,{href:"https://github.com/detekt/detekt/releases/tag/v1.22.0",children:"detekt 1.22.0"})," (updated from 1.19.0)"]})}),"\n",(0,l.jsx)(s.li,{children:"ESLint 8.34.0"}),"\n",(0,l.jsx)(s.li,{children:"ESLint (deprecated) 7.32.0"}),"\n",(0,l.jsx)(s.li,{children:"Faux-Pas 1.7.2"}),"\n",(0,l.jsx)(s.li,{children:"Flawfinder 2.0.19"}),"\n",(0,l.jsx)(s.li,{children:(0,l.jsxs)(s.strong,{children:[(0,l.jsx)(s.a,{href:"https://github.com/securego/gosec/releases/tag/v2.15.0",children:"Gosec 2.15.0"})," (updated from 2.8.1)"]})}),"\n",(0,l.jsx)(s.li,{children:"Hadolint 1.18.2"}),"\n",(0,l.jsx)(s.li,{children:"Jackson Linter 2.14.2"}),"\n",(0,l.jsx)(s.li,{children:"JSHint 2.13.5"}),"\n",(0,l.jsx)(s.li,{children:"markdownlint 0.26.2"}),"\n",(0,l.jsx)(s.li,{children:"PHP Mess Detector 2.13.0"}),"\n",(0,l.jsx)(s.li,{children:"PHP_CodeSniffer 3.7.2"}),"\n",(0,l.jsx)(s.li,{children:"PMD 6.55.0"}),"\n",(0,l.jsx)(s.li,{children:(0,l.jsxs)(s.strong,{children:[(0,l.jsx)(s.a,{href:"https://github.com/landscapeio/prospector/releases/tag/1.10.2",children:"Prospector 1.10.2"})," (updated from 1.7.7)"]})}),"\n",(0,l.jsx)(s.li,{children:"PSScriptAnalyzer 1.18.3"}),"\n",(0,l.jsx)(s.li,{children:(0,l.jsxs)(s.strong,{children:[(0,l.jsx)(s.a,{href:"https://github.com/PyCQA/pylint/releases/tag/v2.17.3",children:"Pylint 2.17.3"})," (updated from 2.17.0)"]})}),"\n",(0,l.jsx)(s.li,{children:"Pylint (deprecated) 1.9.5"}),"\n",(0,l.jsx)(s.li,{children:"remark-lint 7.0.1"}),"\n",(0,l.jsx)(s.li,{children:(0,l.jsxs)(s.strong,{children:[(0,l.jsx)(s.a,{href:"https://github.com/mgechev/revive/releases/tag/v1.3.2",children:"Revive 1.3.2"})," (updated from 1.2.3)"]})}),"\n",(0,l.jsx)(s.li,{children:(0,l.jsxs)(s.strong,{children:[(0,l.jsx)(s.a,{href:"https://github.com/rubocop/rubocop/releases/tag/v1.52.1",children:"RuboCop 1.52.1"})," (updated from 1.39.0)"]})}),"\n",(0,l.jsx)(s.li,{children:"Scalastyle 1.5.0"}),"\n",(0,l.jsx)(s.li,{children:"ShellCheck v0.9.0"}),"\n",(0,l.jsx)(s.li,{children:"SonarC# 8.40"}),"\n",(0,l.jsx)(s.li,{children:"SonarVB 8.15"}),"\n",(0,l.jsx)(s.li,{children:(0,l.jsxs)(s.strong,{children:[(0,l.jsx)(s.a,{href:"https://github.com/stoplightio/spectral/releases/tag/%40stoplight%2Fspectral-rulesets-v1.16.0",children:"Spectral 1.16.0"})," (updated from 1.2.7)"]})}),"\n",(0,l.jsx)(s.li,{children:"SpotBugs 4.7.3"}),"\n",(0,l.jsx)(s.li,{children:"SQLint 0.2.1"}),"\n",(0,l.jsx)(s.li,{children:"Staticcheck 2022.1.3"}),"\n",(0,l.jsx)(s.li,{children:(0,l.jsxs)(s.strong,{children:[(0,l.jsx)(s.a,{href:"https://github.com/stylelint/stylelint/releases/tag/15.9.0",children:"Stylelint 15.9.0"})," (updated from 14.16.1)"]})}),"\n",(0,l.jsx)(s.li,{children:"SwiftLint 0.50.3"}),"\n",(0,l.jsx)(s.li,{children:"Tailor 0.12.0"}),"\n",(0,l.jsx)(s.li,{children:"TSLint 6.1.3"}),"\n",(0,l.jsx)(s.li,{children:"TSQLLint 1.11.1"}),"\n",(0,l.jsx)(s.li,{children:"Unity Roslyn Analyzers 1.14.0"}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,l.jsx)(s,{...e,children:(0,l.jsx)(a,{...e})}):a(e)}}}]);